# Tea, The Dos9 Project - Copyright Â© 2010-2014 Darkbatcher
#
# This is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software 
# Foundation, either version 3 of the License, or (at your option) any later
# version.
#
# Please report bugs, and mistakes at : <darkbatcher at dos9 dot org>
#

SRC= ./src/tea.c ./src/out/tea_html_out.c \
     ./src/Tea_Load.c ./src/out/tea_text_out.c ./src/Tea_Node.c \
     ./src/Tea_Output.c ./src/tea_strupr.c ./src/out/tea_ansi_out.c \
     ./src/out/tea_bb_out.c

LIB=-L../lib -lDos9 @LIBS@
TARGET=../bin${arch}/cmd/tea
OBJ=$(SRC:.c=.o)

CC=@CC@
CFLAGS=-I../include @CFLAGS@

# build all
all: $(TARGET)

$(TARGET) : $(OBJ)
	$(CC) -o $(TARGET) $(OBJ) $(LIB) $(CFLAGS)

clean:
	for i in $(SRC:.c=.o); do rm -f $$i ; done;

.PHONY: clean

.SUFFIXES: .o

.c.o:
	$(CC) -o $@ -c $< $(CFLAGS)
